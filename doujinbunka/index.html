<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ç£åŒäººæ­·å²æª¢å®šï¼šå°‹æ‰¾ä¸Šå¤ç¥ç¸</title>
    <style>
        :root {
            --primary-color: #5d3320; /* æ·±å’–å•¡è‰²å¢¨æ°´ */
            --accent-color: #9e2a2b; /* æœ±ç´…è‰²å°æ³¥æ„Ÿ */
            --paper-color: #fffcf5; /* ç±³é»ƒè‰²å®£ç´™ */
            --spine-color: #3e2723; /* æ·±è‰²çš®é©æ›¸è„Š */
            --table-bg: #d8cca3; /* æ¡Œé¢èƒŒæ™¯è‰² */
            --fb-color: #1877F2;
            --threads-color: #000000;
            --ink-color: #2c3e50;
            --book-border: #8b4513;
            --accent: #a0522d;
        }

        body {
            background-color: #e0d7c6;
            background-image: url('https://www.transparenttextures.com/patterns/parchment.png');
            font-family: "Noto Serif TC", "Georgia", "Microsoft JhengHei", serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh; /* é–å®šè¦–çª—é«˜åº¦ */
            overflow: hidden; /* é˜²æ­¢å¤–å±¤æ²å‹• */
        }

        /* æ›¸æœ¬ä¸»é«”å®¹å™¨ */
        #book-container {
            background-color: var(--paper-color);
            width: 90%;
            max-width: 500px;
            height: 85vh; /* é–å®šæ›¸æœ¬é«˜åº¦ç‚ºè¢å¹• 85% */
            padding: 30px;
            position: relative;
            box-shadow: 10px 10px 30px rgba(0,0,0,0.3), -5px 0 15px rgba(0,0,0,0.1) inset;
            border-left: 12px solid var(--book-border);
            border-radius: 5px 15px 15px 5px;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* å…§éƒ¨å…§å®¹éé•·æ™‚è‡ªå‹•æ²å‹• */
        }

        /* è£é£¾æ€§å…ƒç´  */
        h1 { 
            color: var(--primary-color); 
            text-align: center; 
            font-size: 2.2rem; 
            margin-top: 0;
            padding-bottom: 20px;
            border-bottom: 3px double var(--primary-color); /* å¤å…¸é›™ç·šé‚Šæ¡† */
            margin-bottom: 30px;
        }

        .page { display: none; animation: fadeIn 0.5s ease-in-out; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        .progress { font-size: 1rem; color: #888; margin-bottom: 15px; font-weight: bold; text-align: center; font-style: italic; }
        .question { font-size: 1.4rem; font-weight: bold; margin-bottom: 25px; line-height: 1.5; color: var(--primary-color); }
        
        .options { display: grid; gap: 15px; }
        button {
            padding: 15px 20px;
            font-size: 1.15rem;
            border: 1px solid #d4c5b9; /* è¼ƒæŸ”å’Œçš„é‚Šæ¡†è‰² */
            border-radius: 6px;
            background: #fff;
            cursor: pointer;
            transition: 0.2s;
            text-align: left;
            font-family: inherit;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.05);
        }
        button:hover:not(:disabled) { background: #f0ece3; border-color: var(--primary-color); transform: translateY(-1px); }
        button.correct { background: #e3f0d8 !important; border-color: #7cb342; font-weight: bold; color: #2e5c18; }
        button.wrong { background: #f9e3e3 !important; border-color: #e57373; color: #c62828;}

        #explanation {
            margin-top: 25px;
            padding: 20px;
            background: #f4f1e8; /* è§£æå€å¡Šåº•è‰² */
            border-left: 4px solid var(--accent-color);
            display: none;
            font-size: 1.1rem;
            line-height: 1.7;
            color: #553322;
        }

        .btn-action {
            display: block; width: 100%; margin-top: 30px;
            background: var(--primary-color); color: #f2e9d8;
            text-align: center; padding: 18px; border: none;
            border-radius: 4px; font-size: 1.3rem; cursor: pointer; font-weight: bold;
            letter-spacing: 2px;
            box-shadow: 3px 3px 10px rgba(93, 51, 32, 0.3);
        }
        .btn-action:hover { background: #4a281a; }

        /* çµæœé èˆ‡é¦–é æ¨£å¼ */
        .rank-title { font-size: 2.8rem; color: var(--accent-color); font-weight: bold; margin: 20px 0; letter-spacing: 4px; text-align: center; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); }
        #rank-desc { font-size: 1.2rem; line-height: 1.7; color: #444; margin-bottom: 35px; text-align: center; padding: 0 20px; }
        
        /* æ›¸å°ä½”ä½ç¬¦ç¾åŒ– */
        .book-cover-placeholder { 
            width: 160px; height: 230px; 
            background: #e8e0d0; 
            margin: 30px auto; 
            border: 2px solid #c9bba6; 
            display: flex; align-items: center; justify-content: center; 
            color: #998; font-weight: bold;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.15);
            transform: rotate(-2deg); /* ç¨å¾®å‚¾æ–œå¢åŠ çœŸå¯¦æ„Ÿ */
        }

        .share-group { display: flex; gap: 10px; margin-bottom: 25px; }
        .btn-share { flex: 1; padding: 12px; border: none; border-radius: 4px; color: white; font-size: 1rem; cursor: pointer; font-weight: bold; font-family: sans-serif; }
        .btn-fb { background: var(--fb-color); }
        .btn-threads { background: var(--threads-color); }

        .cta-box { background: #fff8e1; padding: 25px; border-radius: 8px; margin-top: 20px; border: 2px dashed var(--accent-color); text-align: center; }
        .cta-box a { color: var(--accent-color); text-decoration: none; font-weight: bold; font-size: 1.2rem; border-bottom: 1px solid var(--accent-color); }

        /* æ‰‹æ©Ÿç‰ˆé©é…èª¿æ•´ */
        @media (max-width: 600px) {
            #book-container { padding: 30px 25px; border-left-width: 10px; }
            h1 { font-size: 1.8rem; }
            .rank-title { font-size: 2.2rem; }
        }
    </style>
</head>
<body>

<div id="book-container">
    
    <div id="home-page" class="page active">
        <p style="text-align:center; font-style:italic; color:#888; margin-bottom: 5px;">â€”â€” ä½ æ‰€ä¸çŸ¥é“çš„æ–‡åŒ–å² â€”â€”</p>
        <h1>åŒäººæ–‡åŒ–è¬›åº§</h1>
        
        <div class="book-cover-placeholder">
			<img src="bookcover.jpg" alt="æ›¸å°" style="width: 100%; height: 100%; object-fit: cover; border-radius: 5px; box-shadow: 5px 5px 15px rgba(0,0,0,0.2);">
		</div>

        <p style="font-size: 1.25rem; text-align: center; line-height: 1.7; color: #554433;">
            æ²’æœ‰ SNS çš„å¹´ä»£ï¼Œ<br>æˆ‘å€‘æ˜¯å¦‚ä½•æˆç‚ºåŒäººï¼Ÿ<br>ç¿»é–‹è¬›ç¾©ï¼Œé€²è¡Œæ®µä½æª¢å®šã€‚
        </p>
        <button class="btn-action" onclick="startQuiz()">é–‹å•Ÿè¬›ç¾©æª¢å®š</button>
    </div>

    <div id="quiz-area" class="page">
        <div class="progress">è¬›ç¾©èª²é¡Œ <span id="current-idx">1</span> / 10</div>
        <div class="question" id="question-text">è¼‰å…¥ä¸­...</div>
        <div class="options" id="options-container"></div>
        <div id="explanation"></div>
        <button id="next-btn" class="btn-action" style="display:none;" onclick="nextQuestion()">ç¿»å‘ä¸‹ä¸€é </button>
    </div>

    <div id="result-area" class="page">
        <h1>æª¢å®šå·å®Œæˆ</h1>
        <p style="text-align:center; font-size:1.3rem; color: #666;">ç¶“è€ƒæ“šï¼Œä½ çš„å¾—åˆ†ç‚ºï¼š</p>
        <p style="text-align:center;"><strong id="final-score" style="font-size:3rem; color: var(--accent-color);">0</strong> <span style="font-size:1.5rem; color:#888">/ 10</span></p>
        
        <div class="rank-title" id="rank-name"></div>
        <p id="rank-desc"></p>

        <p style="text-align: center; font-weight: bold; color: var(--primary-color); margin-bottom: 10px;">â–¼ åˆ†äº«ä½ çš„è€ƒæ“šæ®µä½ â–¼</p>
        <div class="share-group">
            <button class="btn-share btn-fb" onclick="shareFB()">Facebook</button>
            <button class="btn-share btn-threads" onclick="shareThreads()">Threads</button>
        </div>

        <div class="cta-box">
            <p style="margin-top:0; font-size: 1.1rem;">æƒ³äº†è§£æ›´å¤šä¸ç‚ºäººçŸ¥çš„åŒäººç§˜è¾›å—ï¼Ÿ</p>
            <a href="https://blog.elielin.com/21009" target="_blank">ğŸ‘‰ é–±è®€ã€ŠåŒäººæ–‡åŒ–è¬›åº§ã€‹åŸè‘—å…¨æ–‡</a>
        </div>

        <button class="btn-action" style="background:#d4c5b9; color:#5d3320; border:none; margin-top:25px; box-shadow:none;" onclick="location.reload()">é‡æ–°æª¢å®š</button>
    </div>
</div>

<script>
    // å®Œæ•´ 20 é¡Œé¡Œåº«
    const db = [
        { q: "1940 å¹´æ–¼æ–°ç«¹çµ„æˆï¼Œè¢«è¦–ç‚ºå°ç£æœ€æ—©çš„æ¼«ç•«åŒäººçµç¤¾æ˜¯ï¼Ÿ", o: ["å°åŒ—æ¼«ç•«å­¸æœƒ", "æ–°é«˜æ¼«ç•«é›†åœ˜", "æ›™å…‰æ¼«ç•«ç¤¾", "å—æ–¹é’å¹´ç›Ÿ"], a: 1, e: "ç”±è‘‰å®ç”²ã€é™³å®¶éµ¬ç­‰äººçµ„æˆï¼Œå¾Œå› äºŒæˆ°çˆ†ç™¼åœæ­¢æ´»å‹•ã€‚" },
        { q: "æˆ°å¾Œç¬¬ä¸€æœ¬è—æ–‡åŒäººé›œèªŒã€Šæ–°æ–°ã€‹ï¼Œå…¶å°é¢æ˜¯ä½¿ç”¨ä½•ç¨®æŠ€è¡“è£½ä½œï¼Ÿ", o: ["å…¨å½©å°åˆ·", "æ©¡çš®åˆ»æ¿", "çµ¹å°", "é›·å°„å½±å°"], a: 1, e: "å°é¢æ˜¯å››å¥—è‰²æ©¡çš®åˆ»æ¿çš„èŠå…«é–‹ï¼Œæ¯æœŸäºŒåé ã€‚" },
        { q: "1960å¹´ä»£ï¼Œã€Œè…³ä¸‹æ²’ç•«å½±å­ã€æ›¾è¢«åˆ—ç‚ºç¦æ›¸ç†ç”±ï¼Œæ˜¯å—å“ªé …æ³•è¦å½±éŸ¿ï¼Ÿ", o: ["å‡ºç‰ˆæ³•", "ç·¨å°é€£ç’°æ¼«ç•«è¼”å°è¾¦æ³•", "åˆ‘æ³•", "è‘—ä½œæ¬Šæ³•"], a: 1, e: "ä¿—ç¨±ã€æ¼«ç•«å¯©æŸ¥åˆ¶åº¦ã€ï¼Œåš´é‡é™åˆ¶ç•¶æ™‚çš„å‰µä½œè‡ªç”±ã€‚" },
        { q: "1980 å¹´ä»£ï¼Œå“ªæœ¬é›œèªŒé€éæ–°äººçç™¼æ˜äº†å¼µéœç¾ã€æ¸¸ç´ è˜­ç­‰åå®¶ï¼Ÿ", o: ["æ­¡æ¨‚æ¼«ç•«", "å°‘å¹´å¿«å ±", "å°å’ªæ¼«ç•«å‘¨åˆŠ", "æ˜ŸæœŸæ¼«ç•«"], a: 2, e: "å°å’ªæ¼«ç•«å‘¨åˆŠèˆ‰è¾¦ã€å°å’ªæ¼«ç•«æ–°äººçã€ï¼Œæ˜¯ç•¶æ™‚å°‘å¥³æ¼«ç•«ä½œå®¶çš„æ–ç±ƒã€‚" },
        { q: "åœ¨å°ç£ï¼Œã€ŒåŒäººèªŒã€æ¦‚å¿µçš„æ™®åŠï¼Œèˆ‡å“ªéƒ¨ä½œå“ç›œç‰ˆå–®è¡Œæœ¬çš„ã€Œå°åŠ‡å ´ã€æœ‰é—œï¼Ÿ", o: ["ä¸ƒé¾ç ", "è–é¬¥å£«", "çŒç±ƒé«˜æ‰‹", "å¹½éŠç™½æ›¸"], a: 1, e: "å¤§ç„¶ç‰ˆã€Šè–é¬¥å£«ã€‹ç½®å…¥çš„ã€æ˜ŸçŸ¢å°åŠ‡å ´ã€ï¼Œè®“è¡ç”Ÿå‰µä½œ Parody æ¦‚å¿µåœ¨å°å‚³é–‹ã€‚" },
        { q: "1989 å¹´ï¼Œå°ç£ç¬¬ä¸€å®¶ã€Œé˜¿å…‹ ACCO æ¼«ç•«ä¾¿åˆ©å±‹ã€é–‹è¨­åœ¨å“ªè£¡ï¼Ÿ", o: ["è¥¿é–€ç”º", "å°åŒ—å¤©æ¯", "å°ä¸­ç«è»Šç«™", "å…¬é¤¨"], a: 1, e: "ç¬¬ä¸€å®¶é˜¿å…‹é–‹è¨­åœ¨å¤©æ¯ï¼Œé–‹å•Ÿäº†å·¥å…·è³¼è²·èˆ‡è³‡è¨Šäº¤æµçš„æ–°æ™‚ä»£ã€‚" },
        { q: "1997 å¹´ï¼Œå°ç£ç¬¬ä¸€å€‹ä»¥å•†æ¥­è¦æ¨¡å±•é–‹çš„å®šæœŸè²©å”®æœƒæ˜¯ï¼Ÿ", o: ["CWT", "FF", "Comic World", "å‹•æ¼«ç¯€"], a: 2, e: "ç”±æ·æ¯”èˆ‡æ—¥æœ¬ SE åˆè¾¦çš„ CW 1ï¼Œæ˜¯å®šæœŸå¤§å‹è²©å”®æœƒçš„èµ·é»ã€‚" },
        { q: "æ—©æœŸã€Œæ–°æ–°ã€é›œèªŒç·¨è¼¯æ–¹é‡æ˜¯ã€Œç”¨è‡ªå·±çš„èªè¨€è¬›è‡ªå·±æƒ³è¬›çš„è©±ã€ï¼Œå…¶èƒŒæ™¯æ˜¯ï¼Ÿ", o: ["å‰›è„«é›¢æ—¥æœ¬çµ±æ²»", "æˆ’åš´æ™‚æœŸ", "è§£åš´åˆæœŸ", "ç¶²è·¯æ™‚ä»£"], a: 0, e: "åæ˜ äº†å…‰å¾©åˆæœŸå°ç£äººå°æœ¬åœŸæ–‡åŒ–å‰é€”çš„æŠ±è² ã€‚" },
        { q: "1980 å¹´å‰å¾Œçš„åŒäººåœ˜é«”ã€Œå‰µé€ è€…ã€ï¼Œå…¶æ´»å‹•ç‰¹è‰²ç‚ºä½•ï¼Ÿ", o: ["ç´”ç¶²è·¯äº¤æµ", "è¦æ¨¡é¾å¤§ä¸”é‡è¦–æŠ€è¡“äº¤æµ", "åªè¾¦è§’è‰²æ‰®æ¼”", "é™„å±¬æ–¼æ”¿åºœ"], a: 1, e: "å‰µé€ è€…æ›¾èˆ‰è¾¦ç™¾é¤˜äººçš„äº¤æµæœƒï¼Œä¸”è·¨æ ¡åœ’èˆ‡å¹´é½¡çµ„æˆã€‚" },
        { q: "1992 å¹´è‘—ä½œæ¬Šæ³•ä¿®æ­£ï¼Œå°åŒäººæ–‡åŒ–çš„å½±éŸ¿æ˜¯ï¼Ÿ", o: ["åŒäººæ–‡åŒ–æ¶ˆå¤±", "ä¿ƒä½¿åŒäººç¤¾åœ˜å‘å°å‹åŒ–ã€è¶£å‘³åŒ–è½‰å‹", "è®“åŒäººèªŒè®Šè²´", "ä»¥ä¸Šçš†é"], a: 1, e: "ç‰ˆæ¬Šæ™‚ä»£ä¾†è‡¨ï¼Œè®“éå•†æ¥­æ€§è³ªçš„åŒäººç¤¾åœ˜é–‹å§‹å–®ç´”ç”±åŒå¥½çµ„æˆã€‚" },
        { q: "1970å¹´ä»£æœ«ï¼Œæ˜¯å“ªä½æ¼«ç•«å®¶é ˜é ­è¦æ±‚ä¿®æ­£è’è¬¬çš„æ¼«ç•«å¯©æŸ¥åˆ¶åº¦ï¼Ÿ", o: ["è”¡å¿—å¿ ", "ç‰›å“¥", "é„­å•", "æœ±å¾·åº¸"], a: 1, e: "ç‰›å“¥å¸¶é ˜å…¨åœ‹æ¼«ç•«å®¶è¯èª¼æœƒç™¼è²ï¼Œæ‰ä¿ƒä½¿æ”¿åºœä¿®æ­£å¯©æŸ¥åˆ¶åº¦ã€‚" },
        { q: "ã€Œæ˜ŸçŸ¢å°åŠ‡å ´ã€æœ€æ—©æ˜¯ç”±å“ªä½æ—¥æœ¬ä½œè€…çš„è¡ç”Ÿä½œå“å¼•é€²ï¼Ÿ", o: ["å³¶æ‘æ˜¥å¥ˆ", "è»Šç”°æ­£ç¾", "æ­¦å…§ç›´å­", "é³¥å±±æ˜"], a: 0, e: "å³¶æ‘æ˜¥å¥ˆçš„æç¬‘åŠŸåŠ›é¡›è¦†åŸä½œï¼Œå¸å¼•äº†å¤§é‡å°ç£è®€è€…ã€‚" },
        { q: "1993å¹´ç¬¬ä¸€å ´å…·è¦æ¨¡çš„è²©å”®æœƒåœ¨æ¾å±±å¤–è²¿é¤¨èˆ‰è¾¦ï¼Œç•¶æ™‚æ˜¯èˆ‡ä»€éº¼åˆè¾¦ï¼Ÿ", o: ["è»æ­¦å±•", "æ¨¡å‹å±•", "æ›¸å±•", "èŠ±å±•"], a: 1, e: "ä»¥å­¸ç”Ÿç¤¾åœ˜ç‚ºä¸»ï¼Œä¹Ÿæœ‰ä¸€èˆ¬ç¤¾åœ˜ï¼Œåƒå±•ç¤¾åœ˜é” 30 å€‹ã€‚" },
        { q: "ã€Œæ–°æ–°ã€æœˆåˆŠå‰å¾Œç¸½å…±åˆŠè¡Œäº†å¤šå°‘æœŸï¼Ÿ", o: ["2æœŸ", "8æœŸ", "12æœŸ", "1æœŸ"], a: 1, e: "å…±8æœŸï¼ˆå¯¦è³ªå‡ºç‰ˆ7æœ¬ï¼‰ï¼Œæ˜¯ç ”ç©¶æˆ°å¾ŒåˆæœŸçš„é‡è¦å²æ–™ã€‚" },
        { q: "å“ªæ‰€å¤§å­¸ç¤¾åœ˜æ˜¯ 90 å¹´ä»£åˆæ ¡åœ’ç ”ç©¶é¢¨æ°£çš„å…ˆé©…ï¼Ÿ", o: ["æ¸…å¤§èˆ‡å°å¤§", "è¼”å¤§èˆ‡é«˜é†«", "æ±æµ·èˆ‡é€¢ç”²", "ä»¥ä¸Šçš†æ˜¯"], a: 0, e: "90å¹´ä»£åˆæ˜¯å¤§å°ˆé™¢æ ¡å‹•æ¼«ç•«ç¤¾åœ˜çš„å‰µè¨­æ½®ã€‚" },
        { q: "1945å¹´ã€Œæ–°æ–°ã€æœˆåˆŠå‚¬ç”Ÿæ™‚ï¼Œæœ‰å¿—è€…æ¯äººç¹³äº¤å¤šå°‘éŒ¢ä½œç‚ºç™¼è¡Œè³‡æœ¬ï¼Ÿ", o: ["ä¸€ç™¾å…ƒ", "ä¸€åƒå…ƒ", "äº”ç™¾å…ƒ", "å…ç¹³"], a: 1, e: "ç•¶æ™‚æ¯äººç¹³äº¤åƒå…ƒï¼Œå±•ç¾äº†æ—©æœŸåŒäººé›†è³‡è¾¦èªŒçš„ç²¾ç¥ã€‚" },
        { q: "1980å¹´ä»£åŒäººåœ˜é«”ã€Œç‹‚ç†±ä»½å­ã€å¾Œä¾†å‡ºäº†å“ªä½çŸ¥åæ¼«ç•«å®¶ï¼Ÿ", o: ["é˜¿æ¨", "æœ¨ç¬›", "éº¥ä»æ°", "æ¸¸ç´ è˜­"], a: 1, e: "æœ¨ç¬›å‡ºèº«æ–¼ç•¶æ™‚çŸ¥åçš„åœ˜é«”ã€Œç‹‚ç†±ä»½å­ã€ã€‚" },
        { q: "1985å¹´ç™¼æ˜å‡ºéº¥ä»æ°ã€é˜¿æ¨ç­‰ä½œå®¶çš„æ¯”è³½æ˜¯ï¼Ÿ", o: ["å°å’ªç", "æ­¡æ¨‚æ¼«ç•«æ–°äººç", "é‡‘æ¼«ç", "æ™‚å ±ç"], a: 1, e: "æ™‚å ±å‡ºç‰ˆèˆ‰è¾¦çš„ä¸‰å±†ã€æ­¡æ¨‚æ¼«ç•«æ–°äººçã€ç™¼æ˜äº†å¤šä½ä¸­ç”Ÿä»£åå®¶ã€‚" },
        { q: "1990å¹´å‰å¾Œæœ€ç››æœŸç¤¾å“¡é”å…©ç™¾é¤˜äººçš„ç¤¾åœ˜æ˜¯ï¼Ÿ", o: ["ï¼¡ï¼¤ï¼´æ¼«ç•«è¯ç›Ÿ", "åœ°å¹³ç·š", "ï¼£.ï¼¡.ï¼´", "èµ¤ç²¾è¡›"], a: 0, e: "ï¼¡ï¼¤ï¼´æ¼«ç•«è¯ç›Ÿåœ¨ 1990 å¹´å‰å¾Œæ¥µç‚ºå¼·ç››ã€‚" },
        { q: "1990å¹´ä»£ï¼Œå“ªæœ¬å‹•æ¼«é›œèªŒè¨­æœ‰ã€ŒåŒäººå¤¢å·¥æˆ¿ã€å°ˆæ¬„æ¨å»£ç¤¾åœ˜ï¼Ÿ", o: ["æ¼¢å ¡æ¼«ç•«", "ç¥å¥‡åœ°å¸¶", "å…ˆé‹’å‹•ç•«", "å¤§ç„¶æœˆåˆŠ"], a: 1, e: "ç¥å¥‡åœ°å¸¶ç©æ¥µä»‹ç´¹åŒäººæ´»å‹•ï¼Œæ˜¯ç•¶æ™‚é‡è¦çš„äº¤æµå°ˆæ¬„ã€‚" }
    ];

    let quiz = [], cur = 0, score = 0, currentRank = "";

    function startQuiz() {
        // éš¨æ©ŸæŠ½å– 10 é¡Œ
        quiz = db.sort(() => 0.5 - Math.random()).slice(0, 10);
        // é‡ç½®åˆ†æ•¸
        score = 0; cur = 0;
        showPage('quiz-area');
        renderQuestion();
    }

    function renderQuestion() {
        const item = quiz[cur];
        document.getElementById('current-idx').innerText = cur + 1;
        document.getElementById('question-text').innerText = item.q;
        document.getElementById('explanation').style.display = 'none';
        document.getElementById('next-btn').style.display = 'none';
        
        const optContainer = document.getElementById('options-container');
        optContainer.innerHTML = '';
        item.o.forEach((text, i) => {
            const b = document.createElement('button');
            b.innerText = text;
            b.onclick = () => {
                const btns = optContainer.querySelectorAll('button');
                btns.forEach(btn => btn.disabled = true);
                if(i === item.a) { b.classList.add('correct'); score++; }
                else { b.classList.add('wrong'); btns[item.a].classList.add('correct'); }
                document.getElementById('explanation').innerHTML = "<strong>ğŸ’¡ è€ƒæ“šè§£æï¼š</strong><br>" + item.e;
                document.getElementById('explanation').style.display = 'block';
                document.getElementById('next-btn').style.display = 'block';
            };
            optContainer.appendChild(b);
        });
        // æ¯æ¬¡æ›é¡Œéƒ½å›åˆ°é ‚éƒ¨
        window.scrollTo(0, 0);
    }

    function nextQuestion() {
        cur++;
        if(cur < 10) renderQuestion();
        else endQuiz();
    }

    function endQuiz() {
        showPage('result-area');
        document.getElementById('final-score').innerText = score;
        let rank = "", desc = "";
        if(score === 10) { 
            rank = "ä¸Šå¤ç¥ç¸"; 
            desc = "ä½ çš„çŸ¥è­˜å·²é”ç¥å¢ƒï¼ä½ å°å°ç£åŒäººæ­·å²çš„æŒæ¡ç¨‹åº¦ä»¤äººæ•¬ç•ï¼Œçµ•å°æ˜¯é€™ç‰‡åœŸåœ°çš„å®ˆè­·è€…ã€‚"; 
        }
        else if(score >= 8) { 
            rank = "è€ƒæ“šå¤§è€"; 
            desc = "æ·±åšçš„æ­·å²åŠŸåº•ï¼ä½ è¦‹è­‰äº†ç„¡æ•¸ç¶“å…¸å¹´ä»£çš„æ›´è¿­ï¼Œé‚£äº›æ¶ˆå¤±çš„åˆŠç‰©èˆ‡ç¤¾åœ˜å½·å½¿å°±åœ¨ä½ çœ¼å‰ã€‚"; 
        }
        else if(score >= 6) { 
            rank = "è³‡æ·±åŒå¥½"; 
            desc = "ä½ æ—©å·²åœ¨åœˆå…§ç´®æ ¹å¤šæ™‚ï¼Œå°æ­·å²è„ˆçµ¡æœ‰æ¸…æ™°çš„èªçŸ¥ï¼Œè·é›¢æˆç‚ºå¤§è€åªå‰©ä¸€æ­¥ä¹‹é™ï¼"; 
        }
        else if(score >= 4) { 
            rank = "åšå­¸é–€ç”Ÿ"; 
            desc = "çœ‹ä¾†ä½ å°åŒäººæ–‡åŒ–æœ‰é»èªè­˜ï¼è®“ã€ŠåŒäººæ–‡åŒ–è¬›åº§ã€‹å°‡å¸¶é ˜ä½ è£œå®Œæœ€å¾Œçš„æ­·å²æ‹¼åœ–å§ã€‚"; 
        }
        else if(score >= 2) { 
            rank = "åˆæ¢æ–°æ‰‹"; 
            desc = "ä¸€æ®µç²¾å½©çš„æ­·å²æ­£ç­‰è‘—ä½ æŒ–æ˜ï¼ç¿»é–‹ã€ŠåŒäººæ–‡åŒ–è¬›åº§ã€‹ï¼Œä½ å°‡ç™¼ç¾è¨±å¤šæœªæ›¾è½èçš„éå»ï¼"; 
        }
        else { 
            rank = "ç•°ç•Œè·¯äºº"; 
            desc = "åˆ¥æ“”å¿ƒï¼Œæ­·å²çš„å¤§é–€éš¨æ™‚ç‚ºä½ æ•é–‹ï¼ã€ŠåŒäººæ–‡åŒ–è¬›åº§ã€‹å°‡æ˜¯ä½ æ–‡åŒ–æ¢ç´¢çš„æœ€ä½³æŒ‡å—ï¼"; 
        }
        currentRank = rank;
        document.getElementById('rank-name').innerText = rank;
        document.getElementById('rank-desc').innerText = desc;
        window.scrollTo(0, 0);
    }

    function showPage(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    const shareUrl = "https://blog.elielin.com/21009";
    function shareFB() {
        const text = `æˆ‘åœ¨ã€ŠåŒäººæ–‡åŒ–è¬›åº§ã€‹æ­·å²æª¢å®šç²å¾—äº† ${score}/10 åˆ†ï¼Œç¨±è™Ÿæ˜¯ã€${currentRank}ã€‘ï¼å¿«ä¾†æ¸¬è©¦ä½ çš„å°ç£åŒäººæ­·å²æ®µä½ï¼`;
        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}&quote=${encodeURIComponent(text)}`, '_blank');
    }
    function shareThreads() {
        const text = `æˆ‘åœ¨ã€ŠåŒäººæ–‡åŒ–è¬›åº§ã€‹æ­·å²æª¢å®šç²å¾—äº† ${score}/10 åˆ†ï¼ç¨±è™Ÿæ˜¯ã€${currentRank}ã€‘ï¼\nå¿«ä¾†æ¸¬è©¦ä½ çš„å°ç£åŒäººæ­·å²æ®µä½ï¼š\n${shareUrl}`;
        window.open(`https://www.threads.net/intent/post?text=${encodeURIComponent(text)}`, '_blank');
    }
</script>

</body>
</html>
